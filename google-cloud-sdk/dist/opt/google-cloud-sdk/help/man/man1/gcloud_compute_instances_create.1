
.TH "GCLOUD_COMPUTE_INSTANCES_CREATE" 1



.SH "NAME"
.HP
gcloud compute instances create \- create Google Compute Engine virtual machine instances



.SH "SYNOPSIS"
.HP
\f5gcloud compute instances create\fR \fINAMES\fR [\fINAMES\fR\ ...] [\fB\-\-no\-boot\-disk\-auto\-delete\fR] [\fB\-\-boot\-disk\-device\-name\fR\ \fIBOOT_DISK_DEVICE_NAME\fR] [\fB\-\-boot\-disk\-size\fR\ \fIBOOT_DISK_SIZE\fR] [\fB\-\-boot\-disk\-type\fR\ \fIBOOT_DISK_TYPE\fR] [\fB\-\-can\-ip\-forward\fR] [\fB\-\-csek\-key\-file\fR\ \fIFILE\fR] [\fB\-\-custom\-cpu\fR\ \fICUSTOM_CPU\fR] [\fB\-\-custom\-memory\fR\ \fICUSTOM_MEMORY\fR] [\fB\-\-description\fR\ \fIDESCRIPTION\fR] [\fB\-\-disk\fR\ [\fIPROPERTY\fR=\fIVALUE\fR,...]] [\fB\-\-image\fR\ \fIIMAGE\fR\ |\ \fB\-\-image\-family\fR\ \fIIMAGE_FAMILY\fR] [\fB\-\-image\-project\fR\ \fIIMAGE_PROJECT\fR] [\fB\-\-local\-ssd\fR\ [\fIPROPERTY\fR=\fIVALUE\fR,...]] [\fB\-\-machine\-type\fR\ \fIMACHINE_TYPE\fR] [\fB\-\-maintenance\-policy\fR\ \fIMAINTENANCE_POLICY\fR] [\fB\-\-metadata\fR\ \fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-metadata\-from\-file\fR\ \fIKEY\fR=\fILOCAL_FILE_PATH\fR,[\fIKEY\fR=\fILOCAL_FILE_PATH\fR,...]] [\fB\-\-network\fR\ \fINETWORK\fR;\ default="default"\ |\ \fB\-\-subnet\fR\ \fISUBNET\fR] [\fB\-\-address\fR\ \fIADDRESS\fR\ |\ \fB\-\-no\-address\fR] [\fB\-\-preemptible\fR] [\fB\-\-private\-network\-ip\fR\ \fIPRIVATE_NETWORK_IP\fR] [\fB\-\-no\-require\-csek\-key\-create\fR] [\fB\-\-no\-restart\-on\-failure\fR] [\fB\-\-no\-scopes\fR\ |\ \fB\-\-scopes\fR\ [\fIACCOUNT\fR=]\fISCOPE\fR,[[\fIACCOUNT\fR=]\fISCOPE\fR,...]] [\fB\-\-tags\fR\ \fITAG\fR,[\fITAG\fR,...]] [\fB\-\-zone\fR\ \fIZONE\fR] [\fIGLOBAL\-FLAG\ ...\fR]



.SH "DESCRIPTION"

\fBgcloud compute instances create\fR facilitates the creation of Google Compute
Engine virtual machines. For example, running:

.RS 2m
$ gcloud compute instances create example\-instance\-1 \e
    example\-instance\-2 example\-instance\-3 \-\-zone us\-central1\-a
.RE

will create three instances called \f5example\-instance\-1\fR,
\f5example\-instance\-2\fR, and \f5example\-instance\-3\fR in the
\f5us\-central1\-a\fR zone.

When an instance is in RUNNING state and the system begins to boot, the instance
creation is considered finished, and the command returns with a list of new
virtual machines. Note that you usually cannot log into a new instance until it
finishes booting. Check the progress of an instance using \f5gcloud compute
instances get\-serial\-port\-output\fR.

For more examples, refer to the \fBEXAMPLES\fR section below.



.SH "POSITIONAL ARGUMENTS"

\fINAMES\fR [\fINAMES\fR ...]
.RS 2m
The names of the instances.


.RE

.SH "FLAGS"

\fB\-\-address\fR \fIADDRESS\fR
.RS 2m
Assigns the given external address to the instance that is created. The address
may be an IP address or the name or URI of an address resource. This option can
only be used when creating a single instance.

.RE
\fB\-\-boot\-disk\-auto\-delete\fR
.RS 2m
Automatically delete boot disks when their instances are deleted. Enabled by
default, use \fB\-\-no\-boot\-disk\-auto\-delete\fR to disable.

.RE
\fB\-\-boot\-disk\-device\-name\fR \fIBOOT_DISK_DEVICE_NAME\fR
.RS 2m
The name the guest operating system will see for the boot disk as. This option
can only be specified if a new boot disk is being created (as opposed to
mounting an existing persistent disk).

.RE
\fB\-\-boot\-disk\-size\fR \fIBOOT_DISK_SIZE\fR
.RS 2m
The size of the boot disk. This option can only be specified if a new boot disk
is being created (as opposed to mounting an existing persistent disk). The value
must be a whole number followed by a size unit of \f5\fIKB\fR\fR for kilobyte,
\f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR for gigabyte, or \f5\fITB\fR\fR for
terabyte. For example, \f5\fI10GB\fR\fR will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB.

.RE
\fB\-\-boot\-disk\-type\fR \fIBOOT_DISK_TYPE\fR
.RS 2m
The type of the boot disk. This option can only be specified if a new boot disk
is being created (as opposed to mounting an existing persistent disk). To get a
list of available disk types, run \f5$ gcloud compute disk\-types list\fR.

.RE
\fB\-\-can\-ip\-forward\fR
.RS 2m
If provided, allows the instances to send and receive packets with non\-matching
destination or source IP addresses.

.RE
\fB\-\-csek\-key\-file\fR \fIFILE\fR
.RS 2m
Path to a Customer\-Supplied Encryption Key (CSEK) key file, mapping Google
Compute Engine resources to user managed keys to be used when creating,
mounting, or snapshotting disks. See
https://cloud.google.com/compute/docs/disks/customer\-supplied\-encryption for
more details.

.RE
\fB\-\-custom\-cpu\fR \fICUSTOM_CPU\fR
.RS 2m
A whole number value indicating how many cores are desired in the custom machine
type. Both \-\-custom\-cpu and \-\-custom\-memory must be specified if a custom
machine type is desired, and the \-\-machine\-type flag must be omitted.

.RE
\fB\-\-custom\-memory\fR \fICUSTOM_MEMORY\fR
.RS 2m
A whole number value indicating how much memory is desired in the custom machine
type. A size unit should be provided (eg. 3072MiB or 9GiB) \- if no units are
specified, GiB is assumed. Both \-\-custom\-cpu and \-\-custom\-memory must be
specified if a custom machine type is desired, and the \-\-machine\-type flag
must be omitted.

.RE
\fB\-\-description\fR \fIDESCRIPTION\fR
.RS 2m
Specifies a textual description of the instances.

.RE
\fB\-\-disk\fR [\fIPROPERTY\fR=\fIVALUE\fR,...]
.RS 2m
Attaches persistent disks to the instances. The disks specified must already
exist.

\fBname\fR
.RS 2m
The disk to attach to the instances. When creating more than one instance and
using this property, the only valid mode for attaching the disk is read\-only
(see \fBmode\fR below).

.RE
\fBmode\fR
.RS 2m
Specifies the mode of the disk. Supported options are \f5\fIro\fR\fR for
read\-only and \f5\fIrw\fR\fR for read\-write. If omitted, \f5\fIrw\fR\fR is
used as a default. It is an error for mode to be \f5\fIrw\fR\fR when creating
more than one instance because read\-write disks can only be attached to a
single instance.

.RE
\fBboot\fR
.RS 2m
If \f5\fIyes\fR\fR, indicates that this is a boot disk. The virtual machines
will use the first partition of the disk for their root file systems. The
default value for this is \f5\fIno\fR\fR.

.RE
\fBdevice\-name\fR
.RS 2m
An optional name that indicates the disk name the guest operating system will
see. If omitted, a device name of the form \f5\fIpersistent\-disk\-N\fR\fR will
be used.

.RE
\fBauto\-delete\fR
.RS 2m
If \f5\fIyes\fR\fR, this persistent disk will be automatically deleted when the
instance is deleted. However, if the disk is later detached from the instance,
this option won't apply. The default value for this is \f5\fIno\fR\fR.

.RE
.RE
\fB\-\-image\fR \fIIMAGE\fR
.RS 2m
Specifies the boot image for the instances. For each instance, a new boot disk
will be created from the given image. Each boot disk will have the same name as
the instance.

When using this option, \f5\fI\-\-boot\-disk\-device\-name\fR\fR and
\f5\fI\-\-boot\-disk\-size\fR\fR can be used to override the boot disk's device
name and size, respectively.


.RE
\fB\-\-image\-family\fR \fIIMAGE_FAMILY\fR
.RS 2m
The family of the image that the boot disk will be initialized with. When a
family is specified instead of an image, the latest non\-deprecated image
associated with that family is used.

By default, \f5\fIdebian\-8\fR\fR is assumed for this flag.


.RE
\fB\-\-image\-project\fR \fIIMAGE_PROJECT\fR
.RS 2m
The project against which all image and image family references will be
resolved. See \f5\fI\-\-image\fR\fR for more details.

.RE
\fB\-\-local\-ssd\fR [\fIPROPERTY\fR=\fIVALUE\fR,...]
.RS 2m
Attaches a local SSD to the instances.

This flag is currently in BETA and may change without notice.

\fBdevice\-name\fR
.RS 2m
Optional. A name that indicates the disk name the guest operating system will
see. If omitted, a device name of the form \f5\fIlocal\-ssd\-N\fR\fR will be
used.

.RE
\fBinterface\fR
.RS 2m
Optional. The kind of disk interface exposed to the VM for this SSD. Valid
values are \f5\fISCSI\fR\fR and \f5\fINVME\fR\fR. SCSI is the default and is
supported by more guest operating systems. NVME may provide higher performance.

.RE
.RE
\fB\-\-machine\-type\fR \fIMACHINE_TYPE\fR
.RS 2m
Specifies the machine type used for the instances. To get a list of available
machine types, run 'gcloud compute machine\-types list'. If unspecified, the
default type is n1\-standard\-1.

.RE
\fB\-\-maintenance\-policy\fR \fIMAINTENANCE_POLICY\fR
.RS 2m
Specifies the behavior of the instances when their host machines undergo
maintenance. \f5\fITERMINATE\fR\fR indicates that the instances should be
terminated. \f5\fIMIGRATE\fR\fR indicates that the instances should be migrated
to a new host. Choosing \f5\fIMIGRATE\fR\fR will temporarily impact the
performance of instances during a migration event. If omitted,
\f5\fIMIGRATE\fR\fR is assumed.

.RE
\fB\-\-metadata\fR \fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]
.RS 2m
Metadata to be made available to the guest operating system running on the
instances. Each metadata entry is a key/value pair separated by an equals sign.
Metadata keys must be unique and less than 128 bytes in length. Values must be
less than or equal to 32,768 bytes in length. Multiple arguments can be passed
to this flag, e.g., \f5\fI\-\-metadata
key\-1=value\-1,key\-2=value\-2,key\-3=value\-3\fR\fR.

In images that have Compute Engine tools installed
(https://cloud.google.com/compute/docs/images) on them, the following metadata
keys have special meanings:

\fBstartup\-script\fR
.RS 2m
Specifies a script that will be executed by the instances once they start
running. For convenience, \f5\fI\-\-metadata\-from\-file\fR\fR can be used to
pull the value from a file.

.RE
\fBstartup\-script\-url\fR
.RS 2m
Same as \f5\fIstartup\-script\fR\fR except that the script contents are pulled
from a publicly\-accessible location on the web.

.RE
.RE
\fB\-\-metadata\-from\-file\fR \fIKEY\fR=\fILOCAL_FILE_PATH\fR,[\fIKEY\fR=\fILOCAL_FILE_PATH\fR,...]
.RS 2m
Same as \f5\fI\-\-metadata\fR\fR except that the value for the entry will be
read from a local file. This is useful for values that are too large such as
\f5\fIstartup\-script\fR\fR contents.

.RE
\fB\-\-network\fR \fINETWORK\fR; default="default"
.RS 2m
Specifies the network that the instances will be part of. This is mutually
exclusive with \-\-subnet. If neither is specified, this defaults to the
"default" network.

.RE
\fB\-\-no\-address\fR
.RS 2m
If provided, the instances will not be assigned external IP addresses.

.RE
\fB\-\-no\-scopes\fR
.RS 2m
If provided, the default scopes
(https://www.googleapis.com/auth/cloud.useraccounts.readonly,
https://www.googleapis.com/auth/devstorage.read_only,
https://www.googleapis.com/auth/logging.write,
https://www.googleapis.com/auth/monitoring.write,
https://www.googleapis.com/auth/service.management.readonly,
https://www.googleapis.com/auth/servicecontrol) are not added to the instances.

.RE
\fB\-\-preemptible\fR
.RS 2m
If provided, instances will be preemptible and time\-limited. Instances may be
preempted to free up resources for standard VM instances, and will only be able
to run for a limited amount of time. Preemptible instances can not be restarted
and will not migrate.

.RE
\fB\-\-private\-network\-ip\fR \fIPRIVATE_NETWORK_IP\fR
.RS 2m
Specifies the RFC1918 IP to assign to the instance. The IP should be in the
subnet or legacy network IP range.

.RE
\fB\-\-require\-csek\-key\-create\fR
.RS 2m
Refuse to create resources not protected by a user managed key in the key file
when \-\-csek\-key\-file is given. This behavior is enabled by default to
prevent incorrect gcloud invocations from accidentally creating resources with
no user managed key. Disabling the check allows creation of some resources
without a matching Customer\-Supplied Encryption Key in the supplied
\-\-csek\-key\-file. See
https://cloud.google.com/compute/docs/disks/customer\-supplied\-encryption for
more details. Enabled by default, use \fB\-\-no\-require\-csek\-key\-create\fR
to disable.

.RE
\fB\-\-restart\-on\-failure\fR
.RS 2m
The instances will be restarted if they are terminated by Compute Engine. This
does not affect terminations performed by the user. Enabled by default, use
\fB\-\-no\-restart\-on\-failure\fR to disable.

.RE
\fB\-\-scopes\fR [\fIACCOUNT\fR=]\fISCOPE\fR,[[\fIACCOUNT\fR=]\fISCOPE\fR,...]
.RS 2m
Specifies service accounts and scopes for the instances. Service accounts
generate access tokens that can be accessed through the instance metadata server
and used to authenticate applications on the instance. The account can be either
an email address or an alias corresponding to a service account. If account is
omitted, the project's default service account is used. The default service
account can be specified explicitly by using the alias \f5\fIdefault\fR\fR.
Example:

.RS 2m
$ gcloud compute instances create example\-instance \e
    \-\-scopes compute\-rw,me@project.gserviceaccount.com=storage\-rw
.RE

If this flag is not provided, the following scopes are used:
https://www.googleapis.com/auth/cloud.useraccounts.readonly,
https://www.googleapis.com/auth/devstorage.read_only,
https://www.googleapis.com/auth/logging.write,
https://www.googleapis.com/auth/monitoring.write,
https://www.googleapis.com/auth/service.management.readonly,
https://www.googleapis.com/auth/servicecontrol. To create instances with no
scopes, use \f5\fI\-\-no\-scopes\fR\fR:

.RS 2m
$ gcloud compute instances create example\-instance \-\-no\-scopes
.RE

SCOPE can be either the full URI of the scope or an alias. Available aliases
are:


.TS
tab(,);
lB lB
l l.
Alias,URI
bigquery,https://www.googleapis.com/auth/bigquery
cloud\-platform,https://www.googleapis.com/auth/cloud\-platform
compute\-ro,https://www.googleapis.com/auth/compute.readonly
compute\-rw,https://www.googleapis.com/auth/compute
datastore,https://www.googleapis.com/auth/datastore
logging\-write,https://www.googleapis.com/auth/logging.write
monitoring,https://www.googleapis.com/auth/monitoring
monitoring\-write,https://www.googleapis.com/auth/monitoring.write
service\-control,https://www.googleapis.com/auth/servicecontrol
service\-management,https://www.googleapis.com/auth/service.management.readonly
sql,https://www.googleapis.com/auth/sqlservice
sql\-admin,https://www.googleapis.com/auth/sqlservice.admin
storage\-full,https://www.googleapis.com/auth/devstorage.full_control
storage\-ro,https://www.googleapis.com/auth/devstorage.read_only
storage\-rw,https://www.googleapis.com/auth/devstorage.read_write
taskqueue,https://www.googleapis.com/auth/taskqueue
useraccounts\-ro,https://www.googleapis.com/auth/cloud.useraccounts.readonly
useraccounts\-rw,https://www.googleapis.com/auth/cloud.useraccounts
userinfo\-email,https://www.googleapis.com/auth/userinfo.email
.TE

.RE
\fB\-\-subnet\fR \fISUBNET\fR
.RS 2m
Specifies the subnet that the instances will be part of. This is mutally
exclusive with \-\-network.

.RE
\fB\-\-tags\fR \fITAG\fR,[\fITAG\fR,...]
.RS 2m
Specifies a list of tags to apply to the instances for identifying the instances
to which network firewall rules will apply. See \fBgcloud compute
firewall\-rules create\fR(1) for more details.

.RE
\fB\-\-zone\fR \fIZONE\fR
.RS 2m
The zone of the instance to operate on. If not specified, you will be prompted
to select a zone.

To avoid prompting when this flag is omitted, you can set the
\f5\fIcompute/zone\fR\fR property:

.RS 2m
$ gcloud config set compute/zone ZONE
.RE

A list of zones can be fetched by running:

.RS 2m
$ gcloud compute zones list
.RE

To unset the property, run:

.RS 2m
$ gcloud config unset compute/zone
.RE

Alternatively, the zone can be stored in the environment variable
\f5\fICLOUDSDK_COMPUTE_ZONE\fR\fR.


.RE

.SH "GLOBAL FLAGS"

Run \fB$ gcloud help\fR for a description of flags available to all commands.



.SH "EXAMPLES"

To create an instance with the latest \f5\fIRed Hat Enterprise Linux 6\fR\fR
image available, run:

.RS 2m
$ gcloud compute instances create example\-instance \-\-image rhel\-6 \e
    \-\-zone us\-central1\-a
.RE
